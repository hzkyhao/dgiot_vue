(this.webpackJsonp=this.webpackJsonp||[]).push([["chunk-c7bf"],{Ijxe:function(e,t,a){e.exports=a.p+"static/img/zetag.c449136.png"},MTjk:function(e,t,a){},Mld3:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return r});var n=a("t3Un");function s(e){var t=e.order,a=e.limit,s=e.skip,i=e.keys,o=e.include,r=e.where;return Object(n.a)({url:"/classes/Project",method:"get",params:{order:t,limit:a,skip:s,keys:i,include:o,where:r}})}function i(e){if("number"==typeof e){e=String(e);var t=/0{8}$/,a=/0{4}$/;return t.test(e)?e.replace(t,"亿"):a.test(e)?e.replace(a,"万"):e}if("string"==typeof e){var n=/万+$/,s=/亿+$/;return s.test(e)?e.replace(s,"00000000"):n.test(e)?e.replace(n,"0000"):e}}function o(e,t,a){return Object(n.a)({url:"/lictool",method:"get",params:{appid:e,appsecret:t,shuwa_iot_software:a}})}function r(e){return Object(n.a)({url:"/licsetup",method:"get",params:{license:e}})}},R6H4:function(e,t,a){"use strict";a.r(t);var n=a("v0iw"),s=a.n(n),i=(a("Mld3"),a("URgk"),{data:function(){return{breathe:!0,formInline:{gatetype:"net",gate:"APZ1ZT",address:"",status:9},gatewayurl:a("Ijxe"),readtime:"",start:0,pagesize:12,total:0,gatedata:[],productid:"",time1:null,time2:null}},mounted:function(){var e=this;this.$nextTick(function(){var e=this;this.time1=window.setInterval(this.nowtime,1e3),this.time2=window.setInterval(function(){e.getGateway(),e.breathe=!0,setTimeout(function(){e.breathe=!1},3e3)},6e4)}),this.getGateway(),setTimeout(function(){e.breathe=!1},3e3)},methods:{nowtime:function(){var e=Date.parse(new Date),t=new Date(e),a=t.getFullYear()+"-",n=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",s=(t.getDate()+1<=10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()+1<=10?"0"+t.getHours():t.getHours())+":",o=(t.getMinutes()+1<=10?"0"+t.getMinutes():t.getMinutes())+":",r=t.getSeconds()+1<=10?"0"+t.getSeconds():t.getSeconds();this.readtime=a+n+s+i+o+r},getGateway:function(){var e=this,t=s.a.Object.extend("Product"),a=new s.a.Query(t);a.equalTo("devType","zeta"),a.find().then(function(t){0!=t.length?(e.productid=t[0].id,e.getZetaGateway()):e.$message.warning("暂无数据")},function(t){"209"==t.code?(e.$message({type:"warning",message:"登陆权限过期，请重新登录"}),e.$router.push({path:"/login"})):119==t.code&&e.$message({type:"error",message:"没有操作权限"})})},getZetaGateway:function(e){var t=this,a=s.a.Object.extend("Devices"),n=new s.a.Query(a);""!=this.formInline.address&&n.equalTo("devaddr",this.formInline.address),"ACTIVE"==this.formInline.status?n.equalTo("status",this.formInline.status):"OFFLINE"==this.formInline.status&&n.notEqualTo("status","ACTIVE"),1==e&&(this.start=0),n.equalTo("product",this.productid),n.ascending("-createdAt"),n.exists("basedata"),n.skip(this.start),n.limit(this.pagesize),n.count().then(function(e){t.total=e,n.find().then(function(e){t.gatedata=e})},function(e){"209"==e.code?(t.$message({type:"warning",message:"登陆权限过期，请重新登录"}),t.$router.push({path:"/login"})):119==e.code&&t.$message({type:"error",message:"没有操作权限"})})},handleSizeChange:function(e){this.pagesize=e,this.getZetaGateway()},handleCurrentChange:function(e){this.start=(e-1)*this.pagesize,this.getZetaGateway()}},beforeDestroy:function(){window.clearInterval(this.time1),this.time1=null,window.clearInterval(this.time2),this.time2=null}}),o=(a("mcGC"),a("gYRG"),a("KHd+")),r=Object(o.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gateway"},[a("div",{staticClass:"gatewayheader"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,size:"small","label-width":"120px"}},[a("el-form-item",{attrs:{label:e.$t("zetadevices.terminaltype")}},[a("el-select",{attrs:{placeholder:e.$t("zetadevices.terminaltype")},model:{value:e.formInline.gatetype,callback:function(t){e.$set(e.formInline,"gatetype",t)},expression:"formInline.gatetype"}},[a("el-option",{attrs:{label:e.$t("product.gateway"),value:"net"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("zetadevices.terminalmodel")}},[a("el-select",{attrs:{placeholder:e.$t("zetadevices.terminalmodel")},model:{value:e.formInline.gate,callback:function(t){e.$set(e.formInline,"gate",t)},expression:"formInline.gate"}},[a("el-option",{attrs:{label:"APZ1ZT",value:"APZ1ZT"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("zetadevices.terminaladdress")}},[a("el-input",{attrs:{placeholder:e.$t("zetadevices.terminaladdress")},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("zetadevices.onlinestate")}},[a("el-select",{attrs:{placeholder:e.$t("zetadevices.onlinestate")},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:e.$t("zetadevices.all"),value:9}}),e._v(" "),a("el-option",{attrs:{label:e.$t("zetadevices.online"),value:"ACTIVE"}}),e._v(" "),a("el-option",{attrs:{label:e.$t("zetadevices.offline"),value:"OFFLINE"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getZetaGateway(1)}}},[e._v(e._s(e.$t("developer.search")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.resetForm}},[e._v(e._s(e.$t("zetadevices.reset")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"gatecontent"},e._l(e.gatedata,function(t,n){return a("div",{key:n,staticClass:"gatedevices"},[a("div",{staticClass:"imgurl"},[a("img",{attrs:{src:e.gatewayurl,alt:""}})]),e._v(" "),a("div",{staticClass:"content"},[a("p",[a("span",[e._v(e._s("ZETA"+e.$t("product.gateway")+":")),a("span",{staticStyle:{color:"green"}},[e._v(e._s("("+t.attributes.devaddr+")"))])]),e._v(" "),1==e.breathe?a("span",{staticClass:"breathe-btn",staticStyle:{display:"inline-block",float:"right"},style:{"background-image":"ACTIVE"==t.attributes.status?"-webkit-gradient(linear,left top,left bottom,from(#ffffff),to(green))":"-webkit-gradient(linear,left top,left bottom,from(#ffffff),to(red))"}}):a("span",{staticClass:"animated fadeInDown",staticStyle:{float:"right"},style:{color:"ACTIVE"==t.attributes.status?"green":"red"}},[e._v(e._s("ACTIVE"==t.attributes.status?e.$t("zetadevices.inoperation"):e.$t("zetadevices.notruning")))])]),e._v(" "),a("p",[e._v(e._s(e.$t("zetadevices.model")+":")),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s("APA1ZT"))]),a("span",{staticStyle:{float:"right",display:"inline-block",width:"50%"}},[e._v(e._s(e.$t("zetadevices.terminaladdress")+":")),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(t.attributes.ip))])])]),e._v(" "),a("p",[e._v(e._s(e.$t("zetadevices.networkenvironment"))+":"),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(-255==t.attributes.rssi?-99==t.attributes.rssi?e.$t("zetadevices.nosignal"):e.$t("zetadevices.Reticle"):e.$t("zetadevices.wirelessnetwork")))]),a("span",{staticStyle:{float:"right",display:"inline-block",width:"50%"}},[e._v(e._s(e.$t("zetadevices.networkformat"))+":"),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(t.attributes.basedata.WCDMA))])])]),e._v(" "),a("p",[a("span",[e._v("SIM卡号:")]),a("span",{staticStyle:{color:"#409EFF"}},[e._v(e._s(t.attributes.basedata.tel))])]),e._v(" "),a("p",[a("span",[e._v("ICCID:"+e._s(t.attributes.basedata.ICCID))])]),e._v(" "),a("p",[a("span",[e._v(e._s(e.$t("zetadevices.serverconnection")+":"))]),a("span",{staticStyle:{float:"right",display:"inline-block",width:"50%"}},[e._v(e._s(e.$t("zetadevices.localclock")))])]),e._v(" "),a("p",[a("span",{style:{color:"ACTIVE"==t.attributes.status?"green":"red"}},[e._v(e._s("ACTIVE"==t.attributes.status?e.$t("zetadevices.Connected"):e.$t("zetadevices.Unconnected")))]),a("span",{staticStyle:{float:"right",color:"rgb(75, 139, 244)",display:"inline-block",width:"50%"}},[e._v(e._s(e.readtime))])]),e._v(" "),a("p",[a("span",[e._v(e._s(e.$t("zetadevices.newest")+" RSSI:")),a("span",{staticStyle:{color:"#666"}},[e._v(e._s(t.attributes.basedata.rssi+"dbm"))])]),e._v(" "),a("span",{staticStyle:{float:"right",width:"50%"}},[e._v(e._s(e.$t("zetadevices.datapacket"))),a("span")])]),e._v(" "),a("p",[a("span",[e._v(e._s(e.$t("zetadevices.Position")+":"))]),a("span",[e._v("N：-22.123456")]),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("E：-11.002233")])]),e._v(" "),a("p")])])})),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[12],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},[],!1,null,"24410a29",null);r.options.__file="zetagateway.vue";t.default=r.exports},URgk:function(e,t,a){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(s.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(s.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("yLpj"))},YBdB:function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var n,s=1,i={},o=!1,r=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?function(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&u(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(a){e.postMessage(t+a,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},n=function(t){e.port2.postMessage(t)}}():r&&"onreadystatechange"in r.createElement("script")?function(){var e=r.documentElement;n=function(t){var a=r.createElement("script");a.onreadystatechange=function(){u(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}():n=function(e){setTimeout(u,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var o={callback:e,args:t};return i[s]=o,n(s),s++},l.clearImmediate=c}function c(e){delete i[e]}function u(e){if(o)setTimeout(u,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n)}}(t)}finally{c(e),o=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,a("yLpj"),a("8oxB"))},cqji:function(e,t,a){},gYRG:function(e,t,a){"use strict";var n=a("MTjk");a.n(n).a},mcGC:function(e,t,a){"use strict";var n=a("cqji");a.n(n).a}}]);