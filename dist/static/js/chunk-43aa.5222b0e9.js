(this.webpackJsonp=this.webpackJsonp||[]).push([["chunk-43aa"],{"4BVk":function(e,t,n){},GGH5:function(e,t,n){"use strict";var o=n("4BVk");n.n(o).a},J66h:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=(global=global||{}).Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return r.length-=[0,0,2,1][n],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}global.Meteor&&(Base64=global.Base64);void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));return{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__("yLpj"))},xqMQ:function(e,t,n){"use strict";n.r(t);var o,r,a=n("v0iw"),i=n.n(a),c=n("Yh9x"),s=n("J66h").Base64,l="",g="JSUlLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQolJSUgQGNvcHlyaWdodCAoQykgMjAxOCwgPHNodXdhPgolJSUgQGRvYwolJSUg5Y2P6K6u6Kej5p6QRGVtbwolJSUgQGVuZAolJSUgQ3JlYXRlZCA6IDA4LiDljYHkuIDmnIggMjAxOCAxNDo0OQolJSUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi1tb2R1bGUoc2h1d2FfZGVtb19kZWNvZGVyKS4KLWF1dGhvcigic2h1d2EiKS4KLWRlZmluZShNU0dfVFlQRSwgPDwiREVNTyI+PikuCi1wcm90b2NvbChbPDwiREVNTyI+Pl0pLgoKLWV4cG9ydChbcGFyc2VfZnJhbWUvMiwgdG9fZnJhbWUvMV0pLgoKCnBhcnNlX2ZyYW1lKEJ1ZmYsIE9wdHMpIC0+CiAgICBwYXJzZV9mcmFtZShCdWZmLCBbXSwgT3B0cykuCgoKcGFyc2VfZnJhbWUoPDw+PiwgQWNjLCBfT3B0cykgLT4KICAgIHs8PD4+LCBBY2N9OwpwYXJzZV9mcmFtZSg8PDE2IzY4LCBSZXN0L2JpbmFyeT4+ID0gQmluLCBBY2MsIF9PcHRzKSB3aGVuIGJ5dGVfc2l6ZShSZXN0KSA9PCA2IC0+CiAgICB7QmluLCBBY2N9OwpwYXJzZV9mcmFtZSg8PDE2IzY4LCBMZW46MTYvbGl0dGxlLWludGVnZXIsIExlbjoxNi9saXR0bGUtaW50ZWdlciwgMTYjNjgsIFJlc3QvYmluYXJ5Pj4gPSBCaW4sIEFjYywgT3B0cykgLT4KICAgIGNhc2UgYnl0ZV9zaXplKFJlc3QpIC0gMiA+PSBMZW4gb2YKICAgICAgICB0cnVlIC0+CiAgICAgICAgICAgIGNhc2UgUmVzdCBvZgogICAgICAgICAgICAgICAgPDxVc2VyWm9uZTpMZW4vYnl0ZXMsIENyYzo4LCAxNiMxNiwgUmVzdDEvYmluYXJ5Pj4gLT4KICAgICAgICAgICAgICAgICAgICBBY2MxID0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBzaHV3YV91dGlsczpnZXRfcGFyaXR5KFVzZXJab25lKSA9Oj0gQ3JjIG9mCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlIC0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJhbWUgPSAjewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PCJtc2d0eXBlIj4+ID0+ID9NU0dfVFlQRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPDwiZGF0YSI+PiA9PiBVc2VyWm9uZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjICsrIFtGcmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSAtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjYwogICAgICAgICAgICAgICAgICAgICAgICBlbmQsCiAgICAgICAgICAgICAgICAgICAgcGFyc2VfZnJhbWUoUmVzdDEsIEFjYzEsIE9wdHMpOwogICAgICAgICAgICAgICAgXyAtPgogICAgICAgICAgICAgICAgICAgIHBhcnNlX2ZyYW1lKFJlc3QsIEFjYywgT3B0cykKICAgICAgICAgICAgZW5kOwogICAgICAgIGZhbHNlIC0+CiAgICAgICAgICAgIHtCaW4sIEFjY30KICAgIGVuZDsKcGFyc2VfZnJhbWUoPDxfOjgsIFJlc3QvYmluYXJ5Pj4sIEFjYywgT3B0cykgLT4KICAgIHBhcnNlX2ZyYW1lKFJlc3QsIEFjYywgT3B0cykuCgoKJSUg57uE6KOF5oiQ5bCB5YyFLCDlj4LmlbDkuLpNYXDlvaLlvI8KdG9fZnJhbWUoI3s8PCJtc2d0eXBlIj4+IDo9ID9NU0dfVFlQRX0gPSBGcmFtZSkgLT4KICAgIFBheWxvYWQgPSB0ZXJtX3RvX2JpbmFyeShGcmFtZSksCiAgICA8PDE2IzAzLCBQYXlsb2FkL2JpbmFyeSwgMTYjMjM+Pi4=",u={name:"Protrol",data:function(){return{addRules:{name:[{required:!0,message:"请输入协议名称",trigger:"blur"},{validator:function(e,t,n){/[0-9a-zA-Z]/.test(t)?n():n(new Error("协议名称由数字和字母组合"))},trigger:"blur"}]},dialogTableVisible:!1,gridData:[],formInline:{name:"",version:"",desc:"",resource:!1},objectId:"",warningeditror:[]}},mounted:function(){(o=ace.edit("editor")).session.setMode("ace/mode/erlang"),o.setTheme("ace/theme/monokai"),o.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),(r=ace.edit("editor2")).session.setMode("ace/mode/text"),r.setTheme("ace/theme/monokai"),r.setReadOnly(!0),r.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),o.setValue(s.decode(g))},methods:{protol:function(){var e=this,t="";Object(c.a)(s.encode(o.getValue())).then(function(n){n&&(e.$message({type:"success",message:"编译成功"}),t="编译成功"+n.mod+"\r\n",e.warningeditror=n.warnings,e.warningeditror.map(function(e){t+=e+"\r\n"}),l+=t,r.setValue(l))}).catch(function(n){e.warningeditror=n.error,e.warningeditror.map(function(e){t+=e+"\r\n"}),l+=t,r.setValue(l)})},addAce:function(){this.objectId="",this.formInline.name="",this.formInline.version="",this.formInline.desc="",this.formInline.resource=!1,o.setValue(s.decode(g))},subAce:function(e){var t=this,n=i.a.User.current().id;this.$refs[e].validate(function(e){if(e)if(""==t.objectId){var r={name:t.formInline.name,version:t.formInline.version,code:s.encode(o.getValue()),enable:t.formInline.resource,desc:t.formInline.desc},a=new(l=i.a.Object.extend("Datas")),c=new i.a.ACL;c.setRoleReadAccess("root",!0),c.setRoleWriteAccess("root",!0),c.setRoleReadAccess("admin",!0),c.setRoleWriteAccess("admin",!0),c.setReadAccess(n,!0),c.setWriteAccess(n,!0),a.set("data",r),a.set("type","decoder"),a.set("ACL",c),a.save().then(function(e){t.$message({type:"success",message:"保存成功"})})}else{r={name:t.formInline.name,version:t.formInline.version,code:s.encode(o.getValue()),enable:t.formInline.resource,desc:t.formInline.desc};var l=i.a.Object.extend("Datas");(a=new i.a.Query(l)).get(t.objectId).then(function(e){e.set("data",r),e.save().then(function(e){t.$message({type:"success",message:"修改成功"}),t.objectId=""})})}else t.$message({type:"warning",message:"输入格式有误"})})},chaxun:function(){var e=this,t=i.a.Object.extend("Datas"),n=new i.a.Query(t);n.equalTo("type","decoder"),n.ascending("-createdAt"),n.find().then(function(t){t&&(e.dialogTableVisible=!0,e.gridData=t)})},jiesendable:function(e){var t=this;this.objectId=e.id;var n={name:e.attributes.data.name,version:e.attributes.data.version,code:e.attributes.data.code,desc:e.attributes.data.desc,enable:!1},o=i.a.Object.extend("Datas");new i.a.Query(o).get(this.objectId).then(function(e){e.set("data",n),e.save().then(function(e){t.$message({type:"success",message:"禁用成功"});var n=i.a.Object.extend("Datas"),o=new i.a.Query(n);o.equalTo("type","decoder"),o.ascending("-createdAt"),o.find().then(function(e){e&&(t.gridData=e)})})})},kaisendable:function(e){var t=this;this.objectId=e.id;var n={name:e.attributes.data.name,version:e.attributes.data.version,code:e.attributes.data.code,desc:e.attributes.data.desc,enable:!0},o=i.a.Object.extend("Datas");new i.a.Query(o).get(this.objectId).then(function(e){e.set("data",n),e.save().then(function(e){t.$message({type:"success",message:"启用成功"});var n=i.a.Object.extend("Datas"),o=new i.a.Query(n);o.equalTo("type","decoder"),o.ascending("-createdAt"),o.find().then(function(e){e&&(t.gridData=e)})})})},editordata:function(e){console.log(e),this.objectId=e.id,this.formInline.name=e.attributes.data.name,this.formInline.version=e.attributes.data.version,this.formInline.desc=e.attributes.data.desc,this.formInline.resource=e.attributes.data.enable,o.setValue(s.decode(e.attributes.data.code)),this.dialogTableVisible=!1}}},d=(n("GGH5"),n("KHd+")),C=Object(d.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"protol"},[n("div",{staticClass:"protolheader"},[n("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,rules:e.addRules,size:"small"}},[n("el-form-item",{attrs:{label:"协议名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"名称"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"版本"}},[n("el-input",{attrs:{placeholder:"版本"},model:{value:e.formInline.version,callback:function(t){e.$set(e.formInline,"version",t)},expression:"formInline.version"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{placeholder:"版本描述"},model:{value:e.formInline.desc,callback:function(t){e.$set(e.formInline,"desc",t)},expression:"formInline.desc"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.protol}},[e._v("编译")])],1),e._v(" "),n("el-form-item",{staticStyle:{display:"block"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.subAce("formInline")}}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addAce}},[e._v("新增")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.chaxun}},[e._v("协议库")])],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"协议管理",visible:e.dialogTableVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[n("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.gridData}},[n("el-table-column",{attrs:{label:"协议名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.attributes.data.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"版本",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.attributes.data.version))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"描述",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.attributes.data.desc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){e.editordata(t.row)}}},[e._v("编辑")]),e._v(" "),0==t.row.attributes.data.enable?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){e.kaisendable(t.row)}}},[e._v("启用")]):e._e(),e._v(" "),1==t.row.attributes.data.enable?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){e.jiesendable(t.row)}}},[e._v("禁用")]):e._e()]}}])})],1)],1),e._v(" "),n("div",[e._m(0),e._v(" "),e._m(1),e._v(" "),n("div",{staticStyle:{color:"#c2be9e",background:"#272822","border-top":"1px solid #dddddd",padding:"5px"}},[n("span",[e._v(e._s(e.$t("product.controloutput")))])]),e._v(" "),e._m(2)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("label",{attrs:{id:"plug-name"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"600px"},attrs:{id:"editor"}},[t("textarea",{staticClass:"ace_text-input"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"300px","margin-bottom":"0","margin-top":"0"},attrs:{id:"editor2"}},[t("textarea",{staticClass:"ace_text-input"})])}],!1,null,"26e2797b",null);C.options.__file="protrol.vue";t.default=C.exports}}]);