(this.webpackJsonp=this.webpackJsonp||[]).push([["chunk-1521"],{GjPO:function(t,e,n){"use strict";var r=n("tlWe");n.n(r).a},"IoL/":function(t,e,n){"use strict";var r=n("vSoZ");n.n(r).a},"J+WR":function(t,e,n){"use strict";n.r(e);var r,i=n("v0iw"),o=(n("p46w"),n("lzw9")),a=(n("i7/w"),n("lTfz"),{type:"object",title:"水泵检测模板配置",properties:{sample:{type:"string",description:"产品名称",minLength:10},category:{type:"string",description:"检验类别"},inspection_standard:{type:"string",description:"检验标准"},inspecting:{type:"array",title:"检测名称",items:{type:"object",properties:{inspecting_item:{type:"string",description:"检验项目"},guarantee_value:{type:"array",title:"保证值",format:"table",uniqueItems:!0,items:{type:"object",title:"保证值",properties:{title:{type:"string",description:"保证值"},value:{type:"string",description:"测试值"},assess:{type:"string",description:"评定"},evidenceway:{type:"string",description:"取证方式"},evidence:{type:"string",description:"证据链"}}}}}}}},default:{}});JSONEditor.defaults.options.theme="foundation4";var s={data:function(){return{default:"",reportId:"",editor:""}},methods:{getSchema:function(){if(this.reportId=this.$route.query.id,JSONEditor.defaults.options.show_errors="change",this.reportId){var t=i.Parse.Object.extend("Datas");new i.Parse.Query(t).get(this.reportId).then(function(t){a.default=t.attributes.data,a.default.inspecting.map(function(t){t.guarantee_value.map(function(t){delete t.id})}),r=new JSONEditor(document.getElementById("editor_holder"),{schema:a,theme:"foundation4"})})}else a.default={},r=new JSONEditor(document.getElementById("editor_holder"),{schema:a})},addmodule:function(){var t=this,e=r.validate({});console.log(e),e.length||Object(o.a)(r.getValue(),this.reportId).then(function(e){e&&(t.$message({type:"success",message:"添加成功!"}),t.$router.push({path:"/reportmodule/index"}))}).catch(function(e){t.$message({type:"error",message:e.error})})}},mounted:function(){this.getSchema()}},u=(n("IoL/"),n("GjPO"),n("KHd+")),d=Object(u.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"module"},[e("div",{attrs:{id:"editor_holder"}}),this._v(" "),e("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:this.addmodule}},[this._v("保 存")])],1)},[],!1,null,"77a03da4",null);d.options.__file="module.vue";e.default=d.exports},lzw9:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});var r=n("t3Un");function i(t,e){return Object(r.a)({url:"/pump/templet?dataType=pump_report&start="+t+"&len="+e,method:"GET",data:{}})}function o(t){return Object(r.a)({url:"/pump/templet/"+t,method:"GET",data:{}})}function a(t,e){return Object(r.a)({url:"/pump/templet",method:"POST",data:{data:t,id:e,dataType:"pump_report"}})}function s(t){return Object(r.a)({url:"/pump/report/config?reportId="+t,method:"GET",data:{}})}},tlWe:function(t,e,n){},vSoZ:function(t,e,n){}}]);